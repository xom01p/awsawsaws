
---

# AWSì—ì„œ ì„œë²„ ì„¤ì •, EC2 ìë™í™” ë° VPNì„ í†µí•œ ì•ˆì „í•œ ì ‘ê·¼ ê°€ì´ë“œ

## ìš”ì•½

- **ëª©í‘œ**: AWSì—ì„œ ì„œë²„ ì„¤ì •, EC2 ì‘ì—… ìë™í™”, VPNì„ í†µí•œ ì•ˆì „í•œ ì ‘ê·¼ì„ í†µí•©ì ìœ¼ë¡œ êµ¬í˜„
- **êµ¬ì„±**: VPC, ì„œë¸Œë„·, EC2, Application Load Balancer(ALB), DynamoDB, CloudWatch ì„¤ì •ê³¼ EC2 ìë™í™”, VPN ì—°ê²°
- **ë°©ë²•**: AWS Systems Manager Automation, AWS CLI, CloudFormation, Auto Scaling, Lambda, CloudWatch Events, AWS Client VPN, ìì²´ ê´€ë¦¬ VPN, Site-to-Site VPN í™œìš©
- **ê²°ê³¼**: ALB DNSë¥¼ í†µí•´ ì™¸ë¶€ íŠ¸ë˜í”½ì„ ìˆ˜ì‹ í•˜ëŠ” ì„œë²„ êµ¬ì¶•, EC2 ì‘ì—… ìë™í™”, VPNì„ í†µí•œ ì•ˆì „í•œ ìì› ì ‘ê·¼

---

## ê°œìš”

ì´ ê°€ì´ë“œëŠ” AWSì—ì„œ EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ í™œìš©í•œ ì„œë²„ ì„¤ì •, EC2 ì‘ì—… ìë™í™”, ê·¸ë¦¬ê³  VPNì„ í†µí•œ ì•ˆì „í•œ ì ‘ê·¼ ë°©ë²•ì„ ë‹¨ê³„ë³„ë¡œ ì„¤ëª…í•©ë‹ˆë‹¤. VPC ì•„í‚¤í…ì²˜ë¥¼ ì„¤ì •í•˜ê³ , ê³µìš© ì„œë¸Œë„·ì— ALBë¥¼, ì‚¬ì„¤ ì„œë¸Œë„·ì— EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°°ì¹˜í•˜ë©°, DynamoDBì™€ CloudWatchë¥¼ í†µí•©í•©ë‹ˆë‹¤. ì¶”ê°€ë¡œ EC2 ì‘ì—…(ì‹œì‘, ì¤‘ì§€, ì¬ì‹œì‘, AMI ìƒì„± ë“±)ì„ ìë™í™”í•˜ê³ , AWS Client VPN, ìì²´ ê´€ë¦¬ VPN, Site-to-Site VPNì„ í†µí•´ VPC ë‚´ ìì›ì— ì•ˆì „í•˜ê²Œ ì ‘ê·¼í•˜ëŠ” ë°©ë²•ì„ ë‹¤ë£¹ë‹ˆë‹¤. ì˜ˆì‹œ ì„¤ì •ê³¼ ì£¼ì„ì„ í¬í•¨í•˜ì—¬ ë³´í¸ì ì¸ ì„¤ì • ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.

---

## ë‹¨ê³„ë³„ ì„¤ì • ë° ìë™í™” ê³¼ì •

### 1. VPC ë° ì„œë¸Œë„· ì„¤ì •

VPCëŠ” ê°€ìƒ ì‚¬ì„¤ ë„¤íŠ¸ì›Œí¬ë¡œ, ë¦¬ì†ŒìŠ¤ë¥¼ ê²©ë¦¬ëœ í™˜ê²½ì—ì„œ ì‹¤í–‰í•©ë‹ˆë‹¤. ê³µìš© ì„œë¸Œë„·ì€ ì™¸ë¶€ íŠ¸ë˜í”½ì„ ì²˜ë¦¬í•˜ê³ , ì‚¬ì„¤ ì„œë¸Œë„·ì€ ë‚´ë¶€ ë¦¬ì†ŒìŠ¤ë¥¼ ë³´í˜¸í•©ë‹ˆë‹¤.

#### ì„¤ì • í…Œì´ë¸”

| ì‘ì—…                     | ì„¤ëª… ë° ì˜ˆì‹œ                                                                 | CIDR ë¸”ë¡ ì˜ˆì‹œ       |
|--------------------------|------------------------------------------------------------------------------|----------------------|
| VPC ìƒì„±                 | IPv4 CIDR ì˜ˆ: 10.0.0.0/16, ìµœì†Œ 2ê°œ AZ ê¶Œì¥                                 | 10.0.0.0/16         |
| ê³µìš© ì„œë¸Œë„· ìƒì„±         | AZ us-east-2a, CIDR ì˜ˆ: 10.0.1.0/24, ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ ì—°ê²°                 | 10.0.1.0/24         |
| ì‚¬ì„¤ ì„œë¸Œë„· ìƒì„±         | AZ us-east-2b, CIDR ì˜ˆ: 10.0.2.0/24, NAT ê²Œì´íŠ¸ì›¨ì´ë¡œ ì™¸ë¶€ ì ‘ê·¼ ê´€ë¦¬        | 10.0.2.0/24         |
| ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ ë¶€ì°©   | ê³µìš© ì„œë¸Œë„· ë¼ìš°íŒ…, ì˜ˆ: igw-12345678 ë¶€ì°©                                  | -                   |
| ë¼ìš°íŒ… í…Œì´ë¸” ì„¤ì •       | ê³µìš© ì„œë¸Œë„·ì— 0.0.0.0/0 ë¼ìš°íŠ¸ ì¶”ê°€, ì‚¬ì„¤ ì„œë¸Œë„· NAT ê²Œì´íŠ¸ì›¨ì´ ë¼ìš°íŠ¸ ì„¤ì • | -                   |

#### ëª…ë ¹ì–´ ë° ì£¼ì„

```bash
# VPC ìƒì„±: ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬ë¥¼ ìœ„í•œ ê°€ìƒ ì‚¬ì„¤ ë„¤íŠ¸ì›Œí¬ ìƒì„±
# ğŸ”’ ë³´ì•ˆ: ë¦¬ì†ŒìŠ¤ë¥¼ ë…¼ë¦¬ì ìœ¼ë¡œ ê²©ë¦¬í•˜ì—¬ ì™¸ë¶€ ì ‘ê·¼ ì œí•œ
aws ec2 create-vpc --cidr-block 10.0.0.0/16 --tag-specifications 'ResourceType=vpc,Tags=[{Key=Name,Value=MyVPC}]'

# ê³µìš© ì„œë¸Œë„· ìƒì„±: ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ì— ì—°ê²°, ALB ë° VPN ì„œë²„ ë°°ì¹˜ìš©
# ğŸŒ ê³µìš©: ì™¸ë¶€ íŠ¸ë˜í”½ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ì„œë¸Œë„·
aws ec2 create-subnet --vpc-id vpc-12345678 --cidr-block 10.0.1.0/24 --availability-zone us-east-2a --tag-specifications 'ResourceType=subnet,Tags=[{Key=Name,Value=PublicSubnetA}]'

# ì‚¬ì„¤ ì„œë¸Œë„· ìƒì„±: ì™¸ë¶€ ì ‘ê·¼ ì œí•œ, EC2 ì¸ìŠ¤í„´ìŠ¤ ë°°ì¹˜ìš©
# ğŸ” ì‚¬ì„¤: ë‚´ë¶€ ë¦¬ì†ŒìŠ¤ ë³´í˜¸ë¥¼ ìœ„í•œ ì„œë¸Œë„·
aws ec2 create-subnet --vpc-id vpc-12345678 --cidr-block 10.0.2.0/24 --availability-zone us-east-2b --tag-specifications 'ResourceType=subnet,Tags=[{Key=Name,Value=PrivateSubnetB}]'

# ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ ìƒì„± ë° ë¶€ì°©: ê³µìš© ì„œë¸Œë„· ì¸í„°ë„· ì—°ê²°
# ğŸŒ ì¸í„°ë„· ì—°ê²°: ê³µìš© ì„œë¸Œë„·ì´ ì™¸ë¶€ì™€ í†µì‹  ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •
aws ec2 create-internet-gateway --tag-specifications 'ResourceType=internet-gateway,Tags=[{Key=Name,Value=MyIGW}]'
aws ec2 attach-internet-gateway --vpc-id vpc-12345678 --internet-gateway-id igw-12345678

# ë¼ìš°íŒ… í…Œì´ë¸” ì„¤ì •: ê³µìš© ì„œë¸Œë„·ì— 0.0.0.0/0 ë¼ìš°íŠ¸ ì¶”ê°€
# ğŸš¦ ë¼ìš°íŒ…: íŠ¸ë˜í”½ íë¦„ì„ ì œì–´í•˜ëŠ” ë¼ìš°íŒ… ê·œì¹™ ì„¤ì •
aws ec2 create-route-table --vpc-id vpc-12345678 --tag-specifications 'ResourceType=route-table,Tags=[{Key=Name,Value=PublicRouteTable}]'
aws ec2 create-route --route-table-id rtb-12345678 --destination-cidr-block 0.0.0.0/0 --gateway-id igw-12345678
aws ec2 associate-route-table --subnet-id subnet-12345678 --route-table-id rtb-12345678
```

---

### 2. EC2 ì¸ìŠ¤í„´ìŠ¤ ì„¤ì • ë° Auto Scaling ìë™í™”

EC2 ì¸ìŠ¤í„´ìŠ¤ëŠ” ì‚¬ì„¤ ì„œë¸Œë„·ì— ë°°ì¹˜ë˜ë©°, Auto Scalingìœ¼ë¡œ íŠ¸ë˜í”½ì— ë”°ë¼ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìë™ìœ¼ë¡œ ì¡°ì •í•©ë‹ˆë‹¤. AWS Systems Manager Automationìœ¼ë¡œ EC2 ì‘ì—…(ì¬ì‹œì‘, ì¤‘ì§€ ë“±)ì„ ìë™í™”í•©ë‹ˆë‹¤.

#### ì„¤ì • í…Œì´ë¸”

| ì‘ì—…                     | ì„¤ëª… ë° ì˜ˆì‹œ                                                                 | ì˜ˆì‹œ ê°’              |
|--------------------------|------------------------------------------------------------------------------|----------------------|
| ëŸ°ì¹˜ í…œí”Œë¦¿ ìƒì„±         | AMI ì˜ˆ: Amazon Linux 2, ì¸ìŠ¤í„´ìŠ¤ ìœ í˜• t2.micro, ì‚¬ì„¤ ì„œë¸Œë„· subnet-12345678  | AMI: ami-0c55b159cbfafe1f0 |
| Auto Scaling ê·¸ë£¹ ìƒì„±   | ìµœì†Œ 2ê°œ, ìµœëŒ€ 4ê°œ, ì›í•˜ëŠ” 2ê°œ, VPC ì¡´ ì‹ë³„ì subnet-12345678, subnet-98765432 | ìµœì†Œ 2, ìµœëŒ€ 4, ì›í•˜ëŠ” 2 |
| ë³´ì•ˆ ê·¸ë£¹ ì„¤ì •           | í¬íŠ¸ 80(HTTP), 443(HTTPS) í—ˆìš©, ì‚¬ì„¤ ì„œë¸Œë„· ë‚´ í†µì‹                         | í¬íŠ¸ 80, 443        |

#### ëª…ë ¹ì–´ ë° ì£¼ì„

```bash
# EC2 ì¸ìŠ¤í„´ìŠ¤ ëŸ°ì¹˜ í…œí”Œë¦¿ ìƒì„±: ì‚¬ì„¤ ì„œë¸Œë„·ì— ë°°í¬, ì˜ˆì‹œ AMI: Amazon Linux 2
# ğŸ–¥ï¸ EC2: ì»´í“¨íŒ… ë¦¬ì†ŒìŠ¤ë¥¼ ì •ì˜í•˜ê³  ì‚¬ì„¤ ì„œë¸Œë„·ì— ë°°ì¹˜
aws ec2 create-launch-template --launch-template-data '{"ImageId":"ami-0c55b159cbfafe1f0","InstanceType":"t2.micro","NetworkInterfaces":[{"DeviceIndex":0,"SubnetId":"subnet-12345678","Groups":["sg-12345678"]}]}' --tag-specifications 'ResourceType=launch-template,Tags=[{Key=Name,Value=MyTemplate}]'

# Auto Scaling ê·¸ë£¹ ìƒì„±: ìµœì†Œ 2ê°œ ì¸ìŠ¤í„´ìŠ¤, ìµœëŒ€ 4ê°œ, ì›í•˜ëŠ” 2ê°œ
# ğŸ“ˆ Auto Scaling: íŠ¸ë˜í”½ì— ë”°ë¼ ì¸ìŠ¤í„´ìŠ¤ ìˆ˜ë¥¼ ìë™ ì¡°ì •
aws autoscaling create-auto-scaling-group --auto-scaling-group-name MyASG --launch-template LaunchTemplateId=lt-12345678 --min-size 2 --max-size 4 --desired-capacity 2 --vpc-zone-identifier "subnet-12345678,subnet-98765432"

# ë³´ì•ˆ ê·¸ë£¹ ì„¤ì •: ALBì—ì„œ EC2ë¡œ íŠ¸ë˜í”½ í—ˆìš© (í¬íŠ¸ 80, í—¬ìŠ¤ ì²´í¬)
# ğŸ”’ ë³´ì•ˆ: í•„ìš”í•œ í¬íŠ¸ë§Œ ì—´ì–´ ë³´ì•ˆ ìœ ì§€
aws ec2 authorize-security-group-ingress --group-id sg-12345678 --protocol tcp --port 80 --cidr-blocks 10.0.0.0/16
```

#### EC2 ì‘ì—… ìë™í™”: Systems Manager Automation

AWS Systems Manager Automationìœ¼ë¡œ EC2 ì‘ì—…(ì¬ì‹œì‘, ì¤‘ì§€, AMI ìƒì„± ë“±)ì„ ìë™í™”í•©ë‹ˆë‹¤.

```bash
# Systems Manager Automation: EC2 ì¸ìŠ¤í„´ìŠ¤ ì¬ì‹œì‘
# ğŸ”„ ì¬ì‹œì‘: AWS-RestartEC2Instance ëŸ°ë¶ìœ¼ë¡œ ìë™í™”
aws ssm start-automation-execution --document-name "AWS-RestartEC2Instance" --parameters '{"InstanceId":["i-1234567890abcdef0"]}'

# EC2 ì¸ìŠ¤í„´ìŠ¤ ì¤‘ì§€: ë¹„ìš© ì ˆê°ì„ ìœ„í•´ ë¹„í™œì„± ì‹œê°„ì— ì‹¤í–‰
# â¹ï¸ ì¤‘ì§€: AWS-StopEC2Instance ëŸ°ë¶ìœ¼ë¡œ ìë™í™”
aws ssm start-automation-execution --document-name "AWS-StopEC2Instance" --parameters '{"InstanceId":["i-1234567890abcdef0"]}'

# AMI ìƒì„±: ë°±ì—…ì„ ìœ„í•´ EC2 ì¸ìŠ¤í„´ìŠ¤ ì´ë¯¸ì§€ ìƒì„±
# ğŸ“¸ ë°±ì—…: AWS-CreateImage ëŸ°ë¶ìœ¼ë¡œ ìë™í™”
aws ssm start-automation-execution --document-name "AWS-CreateImage" --parameters '{"InstanceId":"i-1234567890abcdef0","ImageName":"MyAMI-`date +%F`"}'
```

#### ì¶”ê°€ EC2 ìë™í™”: AWS CLI ë° CloudWatch Events

AWS CLIì™€ CloudWatch Eventsë¥¼ í™œìš©í•œ ì¶”ê°€ ìë™í™” ì˜ˆì‹œì…ë‹ˆë‹¤.

```bash
# AWS CLI ìŠ¤í¬ë¦½íŒ…: ë¹„í™œì„± ì‹œê°„ ë™ì•ˆ ì¸ìŠ¤í„´ìŠ¤ ì¤‘ì§€
# ğŸ’° ë¹„ìš© ì ˆê°: ë¹„í™œì„± ì‹œê°„ì— ë¦¬ì†ŒìŠ¤ ì‚¬ìš© ìµœì†Œí™”
#!/bin/bash
INSTANCE_IDS=("i-1234567890abcdef0" "i-0987654321fedcba0")
for id in "${INSTANCE_IDS[@]}"; do
  aws ec2 stop-instances --instance-ids $id
done
sleep 28800  # 8ì‹œê°„ ëŒ€ê¸°
for id in "${INSTANCE_IDS[@]}"; do
  aws ec2 start-instances --instance-ids $id
done

# CloudWatch Events: ë§¤ì¼ EBS ìŠ¤ëƒ…ìƒ· ìƒì„±
# ğŸ“… ìŠ¤ì¼€ì¤„ë§: ì •ê¸° ë°±ì—…ìœ¼ë¡œ ë°ì´í„° ë³´í˜¸
aws events put-rule --name "DailySnapshot" --schedule-expression "cron(0 2 * * ? *)"
aws events put-targets --rule DailySnapshot --targets "Id"="1","Arn"="arn:aws:lambda:us-east-2:123456789012:function:CreateSnapshot"
```

---

### 3. Application Load Balancer ì„¤ì •

ALBëŠ” ê³µìš© ì„œë¸Œë„·ì— ë°°ì¹˜ë˜ì–´ íŠ¸ë˜í”½ì„ EC2 ì¸ìŠ¤í„´ìŠ¤ë¡œ ë¶„ì‚°í•©ë‹ˆë‹¤. ì¸í„°ë„· ëŒ€ë©´í˜•ìœ¼ë¡œ ì„¤ì •í•´ ì™¸ë¶€ ì ‘ê·¼ì„ í—ˆìš©í•©ë‹ˆë‹¤.

#### ì„¤ì • í…Œì´ë¸”

| ì‘ì—…                     | ì„¤ëª… ë° ì˜ˆì‹œ                                                                 | ì˜ˆì‹œ ê°’              |
|--------------------------|------------------------------------------------------------------------------|----------------------|
| ALB ìƒì„±                 | ì¸í„°ë„· ëŒ€ë©´í˜•, ê³µìš© ì„œë¸Œë„· subnet-12345678, subnet-98765432, ë³´ì•ˆ ê·¸ë£¹ sg-12345678 | ì´ë¦„: MyALB, í¬íŠ¸ 80 |
| íƒ€ê²Ÿ ê·¸ë£¹ ìƒì„±           | EC2 ì¸ìŠ¤í„´ìŠ¤ íƒ€ê²Ÿ, í¬íŠ¸ 80, í”„ë¡œí† ì½œ HTTP, VPC vpc-12345678                 | ì´ë¦„: MyTargetGroup  |
| íƒ€ê²Ÿ ë“±ë¡ ë° ë¦¬ìŠ¤ë„ˆ ì„¤ì • | EC2 ì¸ìŠ¤í„´ìŠ¤ i-12345678901234567, i-98765432109876543 ë“±ë¡, HTTP í¬íŠ¸ 80 ë¼ìš°íŒ… | íƒ€ê²Ÿ ê·¸ë£¹ ARN í™•ì¸   |

#### ëª…ë ¹ì–´ ë° ì£¼ì„

```bash
# ALB ìƒì„±: ì¸í„°ë„· ëŒ€ë©´í˜•, ê³µìš© ì„œë¸Œë„·ì— ë°°ì¹˜
# âš–ï¸ ë¡œë“œ ë°¸ëŸ°ì‹±: íŠ¸ë˜í”½ì„ EC2 ì¸ìŠ¤í„´ìŠ¤ë¡œ ë¶„ì‚°
aws elbv2 create-load-balancer --name MyALB --subnets subnet-12345678 subnet-98765432 --security-groups sg-12345678 --scheme internet-facing

# íƒ€ê²Ÿ ê·¸ë£¹ ìƒì„±: EC2 ì¸ìŠ¤í„´ìŠ¤ íƒ€ê²Ÿ, í¬íŠ¸ 80, í”„ë¡œí† ì½œ HTTP
# ğŸ¯ íƒ€ê²Ÿ: íŠ¸ë˜í”½ì„ ë³´ë‚¼ EC2 ì¸ìŠ¤í„´ìŠ¤ ê·¸ë£¹ ì •ì˜
aws elbv2 create-target-group --name MyTargetGroup --protocol HTTP --port 80 --vpc-id vpc-12345678 --target-type instance

# íƒ€ê²Ÿ ê·¸ë£¹ì— EC2 ì¸ìŠ¤í„´ìŠ¤ ë“±ë¡
# ğŸ“Œ ë“±ë¡: Auto Scaling ê·¸ë£¹ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ íƒ€ê²Ÿìœ¼ë¡œ ì¶”ê°€
aws elbv2 register-targets --target-group-arn arn:aws:elasticloadbalancing:us-east-2:123456789012:targetgroup/MyTargetGroup/1234567890123456 --targets Id=i-12345678901234567 Id=i-98765432109876543

# ë¦¬ìŠ¤ë„ˆ ìƒì„±: HTTP ìš”ì²­ì„ íƒ€ê²Ÿ ê·¸ë£¹ìœ¼ë¡œ ë¼ìš°íŒ…
# ğŸ‘‚ ë¦¬ìŠ¤ë„ˆ: ì™¸ë¶€ ìš”ì²­ì„ ë°›ì•„ íƒ€ê²Ÿ ê·¸ë£¹ìœ¼ë¡œ ì „ë‹¬
aws elbv2 create-listener --load-balancer-arn arn:aws:elasticloadbalancing:us-east-2:123456789012:loadbalancer/MyALB/1234567890123456 --protocol HTTP --port 80 --default-actions Type=forward,TargetGroupArn=arn:aws:elasticloadbalancing:us-east-2:123456789012:targetgroup/MyTargetGroup/1234567890123456
```

---

### 4. DynamoDB ë° CloudWatch í†µí•©

DynamoDBëŠ” ë°ì´í„° ì €ì¥ì„, CloudWatchëŠ” ëª¨ë‹ˆí„°ë§ì„ ë‹´ë‹¹í•˜ë©°, Cloud Mapì€ ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.

#### ì„¤ì • í…Œì´ë¸”

| ì‘ì—…                     | ì„¤ëª… ë° ì˜ˆì‹œ                                                                 | ì˜ˆì‹œ ê°’              |
|--------------------------|------------------------------------------------------------------------------|----------------------|
| DynamoDB VPC ì—”ë“œí¬ì¸íŠ¸ ìƒì„± | ì‚¬ì„¤ ë„¤íŠ¸ì›Œí¬ì—ì„œ DynamoDB ì ‘ê·¼, ë¼ìš°íŒ… í…Œì´ë¸” rtb-12345678ì— ì—°ê²°          | ì„œë¹„ìŠ¤ ì´ë¦„: com.amazonaws.us-east-2.dynamodb |
| CloudWatch ëª¨ë‹ˆí„°ë§ ì„¤ì • | EC2 CPU ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§, ì•ŒëŒ ì„¤ì •, SNS ì£¼ì œ arn:aws:sns:us-east-2:123456789012 | ì•ŒëŒ ì´ë¦„: MyEC2CPUAlarm |
| Cloud Map ì„œë¹„ìŠ¤ ë“±ë¡    | ë™ì  ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬, ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ns-12345678901234567, DNS ë ˆì½”ë“œ A, TTL 300 | ì„œë¹„ìŠ¤ ì´ë¦„: MyService |

#### ëª…ë ¹ì–´ ë° ì£¼ì„

```bash
# DynamoDB VPC ì—”ë“œí¬ì¸íŠ¸ ìƒì„±: ì‚¬ì„¤ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì•ˆì „í•œ ì ‘ê·¼
# ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤: ê³µìš© ì¸í„°ë„· ì—†ì´ DynamoDBì— ì ‘ê·¼
aws ec2 create-vpc-endpoint --vpc-id vpc-12345678 --service-name com.amazonaws.us-east-2.dynamodb --vpc-endpoint-type Gateway --route-table-ids rtb-12345678

# CloudWatch í™œì„±í™”: EC2 ë©”íŠ¸ë¦­ ëª¨ë‹ˆí„°ë§ (CPU ì‚¬ìš©ëŸ‰ ë“±)
# ğŸ“Š ëª¨ë‹ˆí„°ë§: ì„±ëŠ¥ ë¬¸ì œë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ê°ì§€
aws cloudwatch put-metric-alarm --alarm-name MyEC2CPUAlarm --metric-name CPUUtilization --namespace AWS/EC2 --statistic Average --period 300 --threshold 70 --comparison-operator GreaterThanThreshold --dimensions Name=InstanceId,Value=i-12345678901234567 --evaluation-periods 1 --alarm-actions arn:aws:sns:us-east-2:123456789012:MySNSTopic

# Cloud Map ì„œë¹„ìŠ¤ ë“±ë¡: ë™ì  ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬ í™œì„±í™”
# ğŸ—ºï¸ ë””ìŠ¤ì»¤ë²„ë¦¬: ë¦¬ì†ŒìŠ¤ ê°„ ì—°ê²°ì„ ë™ì ìœ¼ë¡œ ê´€ë¦¬
aws servicediscovery create-service --name MyService --namespace-id ns-12345678901234567 --dns-config '{"NamespaceId":"ns-12345678901234567","RoutingPolicy":"MULTIVALUE","DnsRecords":[{"Type":"A","TTL":300}]}' --health-check-custom-config '{"FailureThreshold":1}'
```

---

### 5. VPNì„ í†µí•œ ì•ˆì „í•œ ì ‘ê·¼ ì„¤ì •

VPNì„ í†µí•´ VPC ë‚´ ìì›(ì˜ˆ: EC2, DynamoDB)ì— ì•ˆì „í•˜ê²Œ ì ‘ê·¼í•©ë‹ˆë‹¤. AWS Client VPN, ìì²´ ê´€ë¦¬ VPN, Site-to-Site VPNì„ ì„¤ì •í•©ë‹ˆë‹¤.

#### AWS Client VPN: ì›ê²© ì‚¬ìš©ì ì ‘ê·¼

AWS Client VPNì€ ì›ê²© ì‚¬ìš©ìê°€ VPC ë‚´ ìì›ì— ì•ˆì „í•˜ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ëœ ê´€ë¦¬í˜• ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

```bash
# AWS Client VPN ì—”ë“œí¬ì¸íŠ¸ ìƒì„±: VPC ë‚´ ìì› ì ‘ê·¼ í—ˆìš©
# ğŸ” VPN: ì›ê²© ì‚¬ìš©ìë¥¼ ìœ„í•œ ì•ˆì „í•œ ì ‘ê·¼ ê²½ë¡œ ì œê³µ
aws ec2 create-client-vpn-endpoint --client-cidr-block 10.0.0.0/16 --server-certificate-arn arn:aws:acm:us-east-2:123456789012:certificate/12345678-1234-1234-1234-123456789012 --authentication-options Type=certificate-authentication,MutualAuthentication={ClientRootCertificateChainArn=arn:aws:acm:us-east-2:123456789012:certificate/98765432-4321-4321-4321-210987654321} --connection-log-options Enabled=false

# VPC ì—°ê²°: ëŒ€ìƒ ë„¤íŠ¸ì›Œí¬ì™€ ë¼ìš°íŒ… ì„¤ì •
# ğŸŒ ì—°ê²°: VPC ë‚´ ìì›ì— ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •
aws ec2 associate-client-vpn-target-network --client-vpn-endpoint-id cvpn-endpoint-12345678 --subnet-id subnet-12345678

# ì¸ì¦ ê·œì¹™ ì¶”ê°€: VPC CIDRì— ëŒ€í•œ ì ‘ê·¼ í—ˆìš©
# ğŸ”’ ì¸ì¦: íŠ¹ì • ë„¤íŠ¸ì›Œí¬ì— ëŒ€í•œ ì ‘ê·¼ ì œì–´
aws ec2 authorize-client-vpn-ingress --client-vpn-endpoint-id cvpn-endpoint-12345678 --target-network-cidr 10.0.0.0/16 --authorize-all-groups
```

#### ìì²´ ê´€ë¦¬ VPN ì„œë²„: Open VPN ì„¤ì •

ê³µìš© ì„œë¸Œë„·ì— Open VPN ì„œë²„ë¥¼ ì„¤ì •í•˜ì—¬ EC2 ì¸ìŠ¤í„´ìŠ¤ì— ì•ˆì „í•˜ê²Œ ì ‘ê·¼í•©ë‹ˆë‹¤.

```bash
# Open VPN ì„œë²„ ì„¤ì •: ê³µìš© ì„œë¸Œë„·ì— EC2 ì¸ìŠ¤í„´ìŠ¤ë¡œ ë°°í¬
# ğŸ–¥ï¸ VPN ì„œë²„: Open VPN Access Server AMIë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¤ì •
aws ec2 run-instances --image-id ami-openvpn-12345678 --instance-type t2.micro --subnet-id subnet-12345678 --security-group-ids sg-12345678 --tag-specifications 'ResourceType=instance,Tags=[{Key=Name,Value=OpenVPNServer}]'

# í´ë¼ì´ì–¸íŠ¸ êµ¬ì„± íŒŒì¼ ìƒì„± ë° ë°°í¬: ê´€ë¦¬ìê°€ SSHë¡œ ì ‘ê·¼ ê°€ëŠ¥
# ğŸ” ì¸ì¦: í´ë¼ì´ì–¸íŠ¸ ì¸ì¦ì„œë¥¼ ìƒì„±í•˜ì—¬ ë°°í¬
# Open VPN ì„œë²„ì— ì ‘ì†í•˜ì—¬ êµ¬ì„± íŒŒì¼ ë‹¤ìš´ë¡œë“œ í›„ ì‚¬ìš©ìì—ê²Œ ë°°í¬
```

#### Site-to-Site VPN: ì˜¨í”„ë ˆë¯¸ìŠ¤ì™€ VPC ì—°ê²°

ì˜¨í”„ë ˆë¯¸ìŠ¤ ë„¤íŠ¸ì›Œí¬ì™€ VPC ê°„ ì•ˆì „í•œ ì—°ê²°ì„ ì„¤ì •í•©ë‹ˆë‹¤.

```bash
# ê°€ìƒ ê°œì¸ ê²Œì´íŠ¸ì›¨ì´ ìƒì„±: VPCì— ë¶€ì°©
# ğŸŒ ê²Œì´íŠ¸ì›¨ì´: Site-to-Site VPNì„ ìœ„í•œ VPC ì¸¡ ì„¤ì •
aws ec2 create-vpn-gateway --type ipsec.1 --tag-specifications 'ResourceType=vpn-gateway,Tags=[{Key=Name,Value=MyVPNGateway}]'
aws ec2 attach-vpn-gateway --vpn-gateway-id vgw-12345678 --vpc-id vpc-12345678

# ê³ ê° ê²Œì´íŠ¸ì›¨ì´ ìƒì„±: ì˜¨í”„ë ˆë¯¸ìŠ¤ ë„¤íŠ¸ì›Œí¬ ì •ë³´ ì…ë ¥
# ğŸ¢ ì˜¨í”„ë ˆë¯¸ìŠ¤: ê³ ê° ë„¤íŠ¸ì›Œí¬ì™€ ì—°ê²°
aws ec2 create-customer-gateway --type ipsec.1 --public-ip 203.0.113.1 --bgp-asn 65000 --tag-specifications 'ResourceType=customer-gateway,Tags=[{Key=Name,Value=MyCustomerGateway}]'

# VPN ì—°ê²° ìƒì„±: ê°€ìƒ ê°œì¸ ê²Œì´íŠ¸ì›¨ì´ì™€ ê³ ê° ê²Œì´íŠ¸ì›¨ì´ ì—°ê²°
# ğŸ”— ì—°ê²°: IPsec í„°ë„ë¡œ ì•ˆì „í•œ í†µì‹  ë³´ì¥
aws ec2 create-vpn-connection --type ipsec.1 --customer-gateway-id cgw-12345678 --vpn-gateway-id vgw-12345678 --tag-specifications 'ResourceType=vpn-connection,Tags=[{Key=Name,Value=MyVPNConnection}]'
```

---

### 6. í…ŒìŠ¤íŠ¸ ë° ì„œë²„ ì—´ê¸°

ì„¤ì • ì™„ë£Œ í›„, ì„œë²„ê°€ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸í•˜ê³ , ALBë¥¼ í†µí•´ ì™¸ë¶€ íŠ¸ë˜í”½ì„ ìˆ˜ì‹ í•©ë‹ˆë‹¤. VPNì„ í†µí•´ ì‚¬ì„¤ ìì›ì— ì ‘ê·¼í•©ë‹ˆë‹¤.

#### ëª…ë ¹ì–´ ë° ì£¼ì„

```bash
# í—¬ìŠ¤ ì²´í¬ í™•ì¸: íƒ€ê²Ÿ ê·¸ë£¹ ìƒíƒœ "healthy"ì¸ì§€ í™•ì¸
# âœ… ê²€ì¦: ì¸ìŠ¤í„´ìŠ¤ê°€ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸
aws elbv2 describe-target-health --target-group-arn arn:aws:elasticloadbalancing:us-east-2:123456789012:targetgroup/MyTargetGroup/1234567890123456

# ALB DNS ì´ë¦„ í™•ì¸: ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥ ì—¬ë¶€ í…ŒìŠ¤íŠ¸
# ğŸŒ ì ‘ê·¼: ì™¸ë¶€ì—ì„œ ì„œë²„ì— ì ‘ê·¼ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
curl my-alb-1234567890abcdef.elb.us-east-2.amazonaws.com

# VPN ì—°ê²° í›„ ì‚¬ì„¤ ìì› ì ‘ê·¼: EC2 ì¸ìŠ¤í„´ìŠ¤ SSH ì ‘ê·¼
# ğŸ” VPN ì ‘ê·¼: Open VPN í´ë¼ì´ì–¸íŠ¸ë¥¼ í†µí•´ ì—°ê²° í›„ SSH
ssh -i key.pem ubuntu@10.0.2.5

# ëª¨ë“  ì„¤ì • ì™„ë£Œ í›„ ì„œë²„ ì—´ê¸°: ALBë¥¼ í†µí•´ íŠ¸ë˜í”½ ìˆ˜ì‹  ì‹œì‘
# ğŸš€ ì„œë²„ ì—´ê¸°: ì™¸ë¶€ íŠ¸ë˜í”½ì„ ë°›ì•„ ì²˜ë¦¬ ê°€ëŠ¥ ìƒíƒœ
```

---

## í†µí•© ì˜µì…˜ ë¹„êµ

| ê¸°ëŠ¥                     | ì£¼ìš” ìš©ë„                                      | ì ìš© ì‹œë‚˜ë¦¬ì˜¤                          | ê³ ë ¤ ì‚¬í•­                     |
|--------------------------|-----------------------------------------------|---------------------------------------|-------------------------------|
| Systems Manager Automation | EC2 ì‘ì—… ìë™í™” (ì¬ì‹œì‘, ì¤‘ì§€, AMI ìƒì„±)       | ì •ê¸° ìœ ì§€ ê´€ë¦¬, ë°±ì—…                  | IAM ì—­í•  ê¶Œí•œ í™•ì¸            |
| Auto Scaling             | íŠ¸ë˜í”½ ê¸°ë°˜ ì¸ìŠ¤í„´ìŠ¤ ì¡°ì •                      | ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ íŠ¸ë˜í”½ ê´€ë¦¬           | ìŠ¤ì¼€ì¼ë§ ì •ì±… ìµœì í™”          |
| AWS Client VPN           | ì›ê²© ì‚¬ìš©ì VPC ìì› ì ‘ê·¼                      | ì¬íƒ ê·¼ë¬´ì ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼         | ì¸ì¦ì„œ ê´€ë¦¬                   |
| ìì²´ ê´€ë¦¬ VPN ì„œë²„       | EC2 ê´€ë¦¬, ë¯¼ê°í•œ ì‘ì—… ìˆ˜í–‰                     | ê³µìš© IP ì—†ëŠ” ì¸ìŠ¤í„´ìŠ¤ ê´€ë¦¬            | ì„œë²„ ìœ ì§€ë³´ìˆ˜ í•„ìš”            |
| Site-to-Site VPN         | ì˜¨í”„ë ˆë¯¸ìŠ¤ì™€ VPC ê°„ ì—°ê²°                       | í•˜ì´ë¸Œë¦¬ë“œ í´ë¼ìš°ë“œ í™˜ê²½              | ë„¤íŠ¸ì›Œí¬ ì„¤ì • ë³µì¡ì„±          |

---

## ì¶”ê°€ ê³ ë ¤ ì‚¬í•­

- **ë¹„ìš© ê´€ë¦¬**: EC2 ìë™í™”ì™€ VPN ì„¤ì •ì€ ë¹„ìš© ì ˆê°ì— ê¸°ì—¬í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë¹„í™œì„± ì‹œê°„ì— ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¤‘ì§€í•˜ê±°ë‚˜, AWS Client VPNì˜ ìë™ í™•ì¥ ê¸°ëŠ¥ì„ í™œìš©í•˜ì„¸ìš”.
- **ë³´ì•ˆ ê°•í™”**: VPNì„ í†µí•´ íŠ¸ë˜í”½ì„ ì•”í˜¸í™”í•˜ê³ , ë³´ì•ˆ ê·¸ë£¹ê³¼ ë„¤íŠ¸ì›Œí¬ ACLì„ ì ì ˆíˆ ì„¤ì •í•˜ì—¬ ì ‘ê·¼ ì œì–´ë¥¼ ê°•í™”í•˜ì„¸ìš”.
- **íŒ€ í˜‘ì—…**: CloudFormation í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ë©´ íŒ€ ê°„ ì„¤ì • ì¼ê´€ì„±ì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ì°¸ê³  ìë£Œ

- [AWS Systems Manager Automation](https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-automation.html)
- [AWS CLI Command Reference](https://docs.aws.amazon.com/en/paginated-list/index.html?docid=cli)
- [AWS CloudFormation User Guide](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/welcome.html)
- [AWS Auto Scaling User Guide](https://docs.aws.amazon.com/autoscaling/index.html)
- [AWS Lambda Developer Guide](https://docs.aws.amazon.com/lambda/index.html)
- [AWS CloudWatch Events User Guide](https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/Welcome.html)
- [AWS Client VPN ì‚¬ìš©ì ê°€ì´ë“œ](https://docs.aws.amazon.com/vpn/latest/clientvpn-user/)
- [AWS Client VPN ì‹œì‘ ê°€ì´ë“œ](https://docs.aws.amazon.com/vpn/latest/clientvpn-admin/cvpn-getting-started.html)
- [AWS Site-to-Site VPN ì—°ê²° ì„¤ì •](https://docs.aws.amazon.com/vpc/latest/userguide/vpn-connections.html)
- [Open VPN AWS ì„¤ì • ë‹¨ê³„ë³„ ê°€ì´ë“œ](https://medium.com/@sanoj.sudo/how-to-set-up-a-vpn-on-aws-a8c1128ab3e1)

---
